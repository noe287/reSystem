<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>F-Trace</title>
</head><body><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">Debugging techniques: </span></span><br/>
</div><br/>
<span style="font-size: 11pt"><span style="font-family: Calibri"><div style="text-align: left">------------------------------------------------------------------------------------------- <br/>
</div></span></span><span style="font-family: Times New Roman,Times,serif"><span style="font-size: 16pt">disable Kernel printk<br/>
</span></span><span style="font-family: Times New Roman,Times,serif"><span style="font-size: 16pt"><i>echo &quot;0&quot; &gt; /proc/sys/kernel/printk</i></span></span><div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"><br/>
</span></span></div><div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"><br/>
<br/>
</span></span><br/>
</div><br/>
<div style="text-align: left"><a href="http://wiki.corp.airties.com/index.php?title=Libdebug"><span style="font-size: 11pt"><span style="font-family: Calibri">http://wiki.corp.airties.com/index.php?title=Libdebug</span></span></a><span style="font-size: 11pt"><span style="font-family: Calibri"> </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------------------------------------------------------------------- </span></span><br/>
</div><br/>
<div style="text-align: left"><a href="http://wiki.corp.airties.com/index.php?title=Generating_Core_Dump"><span style="font-size: 11pt"><span style="font-family: Calibri">http://wiki.corp.airties.com/index.php?title=Generating_Core_Dump</span></span></a><span style="font-size: 11pt"><span style="font-family: Calibri"> </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">echo &quot;/tmp/core.%e.%p&quot; &gt; /proc/sys/kernel/core_pattern </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">kill -s SIGSEGV pid </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">info sharedlibrary </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">set solib-search-path . </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------------------------------------------------------------------- </span></span><br/>
</div><br/>
<div style="text-align: left"><a href="http://wiki.corp.airties.com/index.php?title=Gdb"><span style="font-size: 11pt"><span style="font-family: Calibri">http://wiki.corp.airties.com/index.php?title=Gdb</span></span></a><span style="font-size: 11pt"><span style="font-family: Calibri"> </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------------------------------------------------------------------- </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">F-TRACE Enable </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------- </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">make kernel_saveconfig  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------- </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#mount none /sys/kernel/debug/ -t debugfs </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">or </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#mount -t debugfs none /sys/kernel/debug </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#cd /sys/kernel/debug/ </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#cd tracing </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#cat available_tracers  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">function sched_switch nop </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo function &gt; current_tracer  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat trace </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># tracer: function </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat buffer_size_kb  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">1408 </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo 256 &gt; buffer_size_kb  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat buffer_size_kb  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">256 </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">#grep psta_recv_proc trace_pipe  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">grep &quot;wlc_recvdata_sendup &lt;-&quot; trace_pipe -A 11 </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">mount -t debugfs nodev /sys/kernel/debug </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">README -- Ftrace </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">------------------------------------------ </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat /sys/kernel/debug/tracing/available_tracers </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">wakeup preemptirqsoff preemptoff irqsoff function sched_switch nop </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat /sys/kernel/debug/tracing/current_tracer </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">nop </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo sched_switch &gt; /sys/kernel/debug/tracing/current_tracer </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat /sys/kernel/debug/tracing/current_tracer </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">sched_switch </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat /sys/kernel/debug/tracing/trace_options </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">noprint-parent nosym-offset nosym-addr noverbose </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo print-parent &gt; /sys/kernel/debug/tracing/trace_options </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo 1 &gt; /sys/kernel/debug/tracing/tracing_enabled </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># cat /sys/kernel/debug/tracing/trace &gt; /tmp/trace.txt </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"># echo 0 &gt; /sys/kernel/debug/tracing/tracing_enabled </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri">  </span></span><br/>
</div><br/>
<div style="text-align: left"><span style="font-size: 11pt"><span style="font-family: Calibri"> </span></span><br/>
</div></body></html>